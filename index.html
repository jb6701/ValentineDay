<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">

<meta name="viewport" 
content="width=device-width, 
initial-scale=1, 
maximum-scale=1, 
user-scalable=no, 
viewport-fit=cover">

<title>Our Forever Story ‚ù§Ô∏è</title>

<link rel="preload" as="image" href="Images/Pic1.jpeg">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;0,900;1,400&family=Dancing+Script:wght@700&family=Cormorant+Garamond:wght@300;400;600&display=swap" rel="stylesheet">

<style>
*{
margin:0;
padding:0;
box-sizing:border-box;
-webkit-tap-highlight-color:transparent;
}

/* --- THE STABILITY FIX --- */
html, body {
    width: 100%;
    height: 100%;
    overflow: hidden; /* Locks the outer window */
    background: #fffafa;
}

body {
    display: flex;
    flex-direction: column;
    font-family: 'Cormorant Garamond', serif;
    color: #2d3436;
}

/* This container handles the scrolling instead of the body */
#scroll-container {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
    position: relative;
    background: linear-gradient(135deg, #fffafa 0%, #ffe4e1 100%);
}

header {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 20px;
    position: relative;
    /* Keeps background from jumping */
    background: linear-gradient(rgba(255,255,255,.45),rgba(255,255,255,.45)),
                url("Images/Pic1.jpeg") center/cover no-repeat;
}

:root{
--rose:#ff85a2;
--deep-love:#b33939;
--gold:#d4af37;
--soft-glow:rgba(255,133,162,.4);
--glass:rgba(255,255,255,.8);
}

#heartContainer{
position:fixed;
inset:0;
pointer-events:none;
z-index:1000;
overflow:hidden;
}

.valentine-heart{
color:var(--rose);
font-size:3rem;
animation:pulse 1.5s infinite;
margin-bottom:10px;
}

@keyframes pulse{
0%{transform:scale(1)}
50%{transform:scale(1.2);text-shadow:0 0 20px var(--rose)}
100%{transform:scale(1)}
}

h1{
font-family:'Playfair Display',serif;
font-size:clamp(2.5rem,8vw,6.5rem);
color:var(--deep-love);
}

.days-counter{
font-family:'Dancing Script',cursive;
font-size:clamp(1.5rem,5vw,2.8rem);
color:var(--gold);
margin-top:15px;
background:var(--glass);
padding:15px 30px;
border-radius:50px;
box-shadow:0 10px 25px rgba(255,133,162,.2);
}

.music-container{
max-width:800px;
margin:60px auto;
padding:30px 20px;
background:var(--glass);
border-radius:30px;
box-shadow:0 15px 40px rgba(0,0,0,.05);
backdrop-filter:blur(10px);
}

.playlist{display:grid;gap:15px;}

.song-card{
display:flex;
justify-content:space-between;
align-items:center;
padding:15px 20px;
background:white;
border-radius:15px;
cursor:pointer;
}

.gallery-section{
max-width:1100px;
margin:80px auto;
padding:0 20px;
}

.gallery-grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
gap:25px;
}

.memory-card{
background:white;
padding:15px;
border-radius:15px;
box-shadow:0 10px 30px rgba(0,0,0,.05);
}

.memory-card img{
width:100%;
height:350px;
object-fit:cover;
border-radius:10px;
}

.memory-caption{
font-family:'Dancing Script',cursive;
font-size:clamp(1.3rem,4vw,1.8rem);
text-align:center;
margin-top:15px;
color:var(--deep-love);
}

.promise-section{
text-align:center;
padding:80px 20px;
background:rgba(255,240,243,.8);
}

.promise-text{
font-size:clamp(1.1rem,3vw,2.2rem);
max-width:900px;
margin:auto;
line-height:1.6;
}

.highlight{color:var(--deep-love);font-weight:600;}

@media(max-width:768px){
.gallery-grid{grid-template-columns:1fr;}
.memory-card img{height:280px;}
}
</style>
</head>

<body>

<div id="heartContainer"></div>
<audio id="mainAudio"></audio>

<div id="scroll-container" onscroll="handleScroll()">

    <div id="musicPlayer" style="
    max-width:700px;
    margin:10px auto;
    padding:15px;
    background:white;
    border-radius:20px;
    box-shadow:0 10px 25px rgba(0,0,0,.08);
    display:none;
    position: sticky;
    top: 10px;
    z-index: 2000;
    width: 95%;
    ">
    <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;">
    <button onclick="togglePlay()" id="playBtn" style="border:none;background:#ff85a2;color:white;padding:10px 18px;border-radius:12px;font-size:16px;">‚ñ∂ Play</button>
    <span id="songTitle" style="font-weight:600; font-size: 14px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"></span>
    </div>
    <input type="range" id="seekBar" value="0" style="width:100%;margin-top:10px;">
    </div>

    <header>
        <span class="valentine-heart">‚ù§Ô∏è</span>
        <h1>Happy Valentine's Day</h1>
        <div class="days-counter">1146 Days of Loving You ‚ù§Ô∏è</div>
    </header>

    <section class="music-container">
        <h2 style="text-align:center;color:var(--deep-love);margin-bottom:20px;">üéµ Our Valentine Playlist</h2>
        <div class="playlist">
            <div class="song-card" onclick="playSong('Songs/Pehla.mp3',this)">Pehla Pehla Pyaar ‚ñ∂</div>
            <div class="song-card" onclick="playSong('Songs/MainAgar.mp3',this)">Main Agar Kahoon ‚ñ∂</div>
            <div class="song-card" onclick="playSong('Songs/TereBina.mp3',this)">Tere Bina ‚ñ∂</div>
            <div class="song-card" onclick="playSong('Songs/TumHo.mp3',this)">Tum Ho ‚ñ∂</div>
            <div class="song-card" onclick="playSong('Songs/Ambarsariya.mp3',this)">Ambarsariya ‚ñ∂</div>
            <div class="song-card" onclick="playSong('Songs/Guzarish.mp3',this)">Guzarish ‚ñ∂</div>
            <div class="song-card" onclick="playSong('Songs/TuJaaneNa.mp3',this)">Tu Jaane Na ‚ñ∂</div>
            <div class="song-card" onclick="playSong('Songs/Chand.mp3',this)">Chand Sifarish ‚ñ∂</div>
            <div class="song-card" onclick="playSong('Songs/Raanjhanaa.mp3',this)">Raanjhanaa ‚ñ∂</div>
        </div>
    </section>

    <section class="gallery-section">
        <div class="gallery-grid">
            <div class="memory-card"><img src="Images/Pic1.jpeg"><div class="memory-caption">My Sunshine ‚òÄÔ∏è</div></div>
            <div class="memory-card"><img src="Images/Pic2.jpeg"><div class="memory-caption">That Beautiful Smile ‚ú®</div></div>
            <div class="memory-card"><img src="Images/Pic3.jpeg"><div class="memory-caption">My North Star ‚ù§Ô∏è</div></div>
            <div class="memory-card"><img src="Images/Pic4.jpeg"><div class="memory-caption">My Whole World üíç</div></div>
            <div class="memory-card"><img src="Images/Pic5.jpeg"><div class="memory-caption">My Constant Craving üç≠‚ú®</div></div>
            <div class="memory-card"><img src="Images/Pic6.jpeg"><div class="memory-caption">My Favorite Human üåéüíñ</div></div>
        </div>
    </section>

    <div class="promise-section">
        <div class="valentine-heart" style="font-size: 4rem;">üåπ</div>
        <p class="promise-text">
            "My Dearest Bhumiiiii, as I look back on these <span class="highlight">1146 days</span>, I realize that every second spent with you has been a gift I never knew I deserved. You aren't just a part of my life; you are the very soul of it."
            <br><br>
            "On this Valentine's Day, I want to make a promise that transcends time. <span class="highlight">I want to spend my entire life by your side</span>. I am, and will be, <span class="highlight">forever grateful</span> for the day you walked into my life and chose to stay."
            <br><br>
            <span style="font-family: 'Dancing Script'; font-size: clamp(2rem, 5vw, 3rem); display: block; margin-top: 30px; color: var(--rose);">Yours Forever & Always ‚ù§Ô∏è</span>
        </p>
    </div>
</div>

<script>
/* AUDIO LOGIC */
const audio = document.getElementById("mainAudio");
const seekBar = document.getElementById("seekBar");
const playBtn = document.getElementById("playBtn");
const songTitle = document.getElementById("songTitle");
const player = document.getElementById("musicPlayer");

let currentSong = null;

function playSong(path, element){
    if(currentSong === path){ togglePlay(); return; }
    currentSong = path;
    audio.src = path;
    audio.play().then(()=>{
        player.style.display = "block";
        songTitle.innerText = element.innerText.replace("‚ñ∂","").trim();
        playBtn.innerText = "‚è∏ Pause";
    }).catch(err=>alert("Check songs folder!"));
}

function togglePlay(){
    if(!audio.src) return;
    if(audio.paused){ audio.play(); playBtn.innerText="‚è∏ Pause"; }
    else { audio.pause(); playBtn.innerText="‚ñ∂ Play"; }
}

audio.addEventListener("timeupdate",()=>{
    if(!audio.duration) return;
    seekBar.max = audio.duration;
    seekBar.value = audio.currentTime;
});

seekBar.addEventListener("input",()=>{ audio.currentTime = seekBar.value; });

/* HEARTS LOGIC (Optimized for Android stability) */
function spawnHeart(){
    const container = document.getElementById('heartContainer');
    const h = document.createElement('div');
    h.innerHTML = ['‚ù§Ô∏è','üíñ','üíù','üíï','üåπ'][Math.floor(Math.random()*5)];
    h.style.position = 'absolute';
    h.style.left = Math.random() * 100 + 'vw';
    h.style.top = '100vh'; // Always start at the true bottom of the view
    h.style.fontSize = (Math.random()*20+15)+'px';
    h.style.transition = 'transform 6s linear, opacity 2s';
    container.appendChild(h);

    setTimeout(()=>{
        h.style.transform = 'translateY(-110vh)';
        h.style.opacity = '0';
    }, 50);
    setTimeout(()=>h.remove(), 7000);
}

setInterval(spawnHeart, 500);

/* Touch Burst */
document.addEventListener('touchstart', (e) => {
    const touch = e.touches[0];
    for(let i=0; i<6; i++){
        const b = document.createElement('div');
        b.innerHTML = '‚ù§Ô∏è';
        b.style.position = 'fixed';
        b.style.left = touch.clientX + 'px';
        b.style.top = touch.clientY + 'px';
        b.style.transition = 'all 0.8s ease-out';
        b.style.pointerEvents = 'none';
        b.style.zIndex = '3000';
        document.body.appendChild(b);
        setTimeout(()=>{
            b.style.transform = `translate(${(Math.random()-0.5)*150}px, ${(Math.random()-0.5)*150}px) scale(0)`;
            b.style.opacity = '0';
        }, 50);
        setTimeout(()=>b.remove(), 1000);
    }
});
</script>
</body>
</html>